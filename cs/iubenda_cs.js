!function(e){"use strict";const s=e=>{("undefined"==typeof window||window.iubPubSubDebug)&&"undefined"!=typeof console&&console.debug&&console.debug(`[Iubenda PubSub Debug] ${e}`)},i=e=>{"undefined"!=typeof console&&console.error&&console.error(`[Iubenda PubSub Error] ${e}`)};class t{constructor(){this.topics={},this.onceOnly={},this.replayPublishers={}}subscribe(e,t,n,r=!1){if(s(`Subscribing to topic: ${e}, subscriberId: ${t}, once: ${r}`),e){if(t)return r?this.subscribeOnce(e,t,n):this.subscribeRegular(e,t,n);i("Subscriber name cannot be null or undefined")}else i("Topic cannot be null or undefined")}subscribeOnce(e,s,i){this._abstractSubscribe(this.onceOnly,e,s,i,!0)}subscribeRegular(e,s,i){this._abstractSubscribe(this.topics,e,s,i,!1)}_abstractSubscribe(e,t,n,r,o){const c={subscriberId:n,callback:r};if(!e[t])return s(`Creating topic: ${t} in ${o?"onceOnly":"regular"} mode`),e[t]=[],e[t].push(c),void this._publishReplay(t);if(e[t].find((e=>e.subscriberId===c.subscriberId))){i(`Subscriber ${c.subscriberId} already subscribed to topic ${t} in ${o?"onceOnly":"regular"} mode`)}else e[t].push(c),this._publishReplay(t)}unsubscribe(e,i){s(`Unsubscribing ${e} from topic ${i} in both modes`),this.unsubscribeFromRegular(e,i),this.unsubscribeFromOnceOnly(e,i)}unsubscribeFromRegular(e,s){this._abstractUnsubscribe(this.topics,e,s,!1)}unsubscribeFromOnceOnly(e,s){this._abstractUnsubscribe(this.onceOnly,e,s,!0)}_abstractUnsubscribe(e,i,t,n){s(`Unsubscribing ${i} from ${n?"once":"regular"} topic ${t}`),e[t]&&(e[t]=e[t].filter((e=>e.subscriberId!==i)))}_publishReplay(e){const s=this.replayPublishers[e];s&&this.publish(e,s.publisherId,s.message)}publish(e,i,t,n=!1){s(`${i} publishing to topic: ${e}, message: ${JSON.stringify(t)}`),n&&(this.replayPublishers[e]={publisherId:i,message:JSON.parse(JSON.stringify(t))}),this.publishToRegularSubscribers(e,i,t),this.publishToOnceSubscribers(e,i,t)}publishToRegularSubscribers(e,s,i){this._abstractPublish(this.topics,s,e,i,!1)}publishToOnceSubscribers(e,s,i){this._abstractPublish(this.onceOnly,s,e,i,!0)}_abstractPublish(e,s,t,n,r){if(!e[t])return;const o=[...e[t]];for(const{callback:e,subscriberId:c}of o)try{e(n)}catch(e){i(`Error while processing ${r?"once-only":"regular"} subscriber callback triggered by ${s} for topic ${t} for subscriber ${c} with message ${n}: ${e}`)}r&&delete e[t]}}function n({globalObject:e}){return{msSessionStarted:function(){try{return Math.floor(performance.now())}catch{return 0}}(),siteId:function(){const e="000";if("undefined"==typeof window)return e;return window._iub?.csRC?.publicId||window._iub?.csConfiguration?.siteId||window._iub?.csSiteConf?.siteId||e}(),sessionId:function({globalObject:e}){if(void 0===e)return"000";if(!("sessionStorage"in e))return"000";sessionStorage.getItem("cmp_sid_wwcs")||sessionStorage.setItem("cmp_sid_wwcs",r());return sessionStorage.getItem("cmp_sid_wwcs")}({globalObject:e}),upvid:function({globalObject:e}){const s=r();if(void 0===e)return"000"+s;if("cmpupvid_wwcs"in e)return e.cmpupvid_wwcs;return e.cmpupvid_wwcs=s,s}({globalObject:e})}}function r(){try{return crypto.randomUUID()}catch{return Math.random().toString(16).substring(2)+Date.now().toString(16)}}function o(e){const s=e.match(/^(.+?)[-_](.+)$/);return s?{language:s[1],region:s[2]}:{language:e}}function c(e,s,i){const t=i.map((function(e){return e.toLowerCase()})).indexOf(s.toLowerCase());-1!==t&&e.push(i[t])}let u=0;const b=_iub.csConfiguration;function l(){let e;e="https://cdn.iubenda.com/cookie_solution/iubenda_cs/1.85.0/core-"+b.lang+".js";let s=document.querySelector('script[src="'+e+'"]');if(!s){s=document.createElement("script");const i=document.querySelector("script");s.src=e,s.setAttribute("charset","UTF-8"),s.addEventListener("error",(function(){++u,u<5&&(s.parentNode.removeChild(s),setTimeout(l,10))})),i.parentNode.insertBefore(s,i)}}b.useUIModule&&(window._cmp=window._cmp||{},window._cmp.pubSub=window._cmp.pubSub||new t),_iub.invTcfC=Date.now()-31104e6;_iub.csConfigLegacy=!1,_iub.GVL2=_iub.GVL2||224,_iub.GVL3=_iub.GVL3||122,_iub.vendorsCountGVL3=_iub.vendorsCountGVL3||1039;_iub.cc='EU',b.lang=function(e,s,i,t){function n(s,t,n){if(n&&!t)return!1;const r=t&&t.cookiePolicyId||e.cookiePolicyId,o=-1!==i.indexOf(s)||e.i18n&&e.i18n[s]||t&&t.i18n&&t.i18n[s];return r&&o}const r=e.lang,u=[];r&&u.push(r);const b=Object.keys(s||{}),l=o(t),a=l.region,d=l.language.toLowerCase();if(a){c(u,d+"-"+a,b)}a||c(u,d,b),b.forEach((function(e){o(e).language===d&&u.push(e)})),u.push.apply(u,b);for(let e=0;e<u.length;++e){const i=0!==e||!r,t=u[e];if(n(t,s?s[t]:null,i))return t}return"en"}(b,_iub.csLangConfiguration,["bg","ca","cs","da","de","el","en","en-GB","es","et","fi","fr","hr","hu","it","lt","lv","nl","no","pl","pt","pt-BR","ro","ru","sk","sl","sv"],document.documentElement.lang||navigator.language||"en"),l(),"undefined"!=typeof _iub&&"object"==typeof _iub.csRC&&null!==_iub.csRC&&!0===_iub?.csRC?.wwcsCheckActive&&function({globalObject:e}){const{msSessionStarted:s,siteId:i,sessionId:t,upvid:r}=n({globalObject:e});var o;o=`https://cnt3.iubenda.com/t/cs/${i}/${s}/${t}/req?st=${function(){try{return Math.floor(performance.timeOrigin)}catch{return 0}}()}&upvid=${r}`,"function"==typeof fetch&&fetch(o,{method:"POST",mode:"cors",keepalive:!0})}({globalObject:window}),e.loadCore=l,Object.defineProperty(e,"__esModule",{value:!0})}({});
